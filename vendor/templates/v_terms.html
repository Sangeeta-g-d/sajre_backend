{% extends 'vendor_base.html' %}
{% block content %}

<link rel="stylesheet" href="/static/assets/participant/css/terms.css">

<div class="container-fluid">
    <div class="main-content">
        <div class="header my-5">
          
            <p class="text-center">Effective Date: 01 August 2025</p>
            <p class="text-center">Issued by: Sajre Edutech Pvt. Ltd.</p>
        </div>

        <div class="content">
            <h3>1. Preamble & Agreement Overview</h3>
            <h4>1.1 Parties</h4>
            <p>This Agreement is entered into between Sajre Edutech Private Limited and the Vendor being an individual, sole proprietor, partnership, institution, or business entity that has successfully completed the onboarding process.</p>

            <h4>1.2 Purpose</h4>
            <p>The Agreement regulates the commercial, operational, ethical, and legal framework under which Vendors shall promote Sajre Edutech events, competitions, and educational offerings.</p>

            <h4>1.3 Binding Nature</h4>
            <p>This Agreement is binding upon electronic acceptance and incorporates all policies, annexures, schedules, and guidelines provided by Sajre Edutech.</p>

            <h3>2. Definitions</h3>
            <p>Key terms include:</p>
            <ul>
                <li><strong>Vendor:</strong> Any person or entity onboarded by Sajre Edutech</li>
                <li><strong>Participant:</strong> A natural person registered through a Vendor's referral</li>
                <li><strong>Commission:</strong> Monetary incentive for verified registrations</li>
                <li><strong>Confidential Information:</strong> All non-public, proprietary information</li>
            </ul>

            <h3>3. Appointment & Scope of Engagement</h3>
            <h4>3.1 Appointment</h4>
            <p>Sajre Edutech appoints the Vendor as a non-exclusive promotional partner subject to these Terms.</p>

            <h4>3.2 Independent Status</h4>
            <p>The Vendor is an independent contractor. No employer-employee relationship is created.</p>

            <h3>4. Vendor Obligations</h3>
            <h4>4.1 Promotional Duties</h4>
            <p>Vendors shall:</p>
            <ul>
                <li>Use only approved promotional material</li>
                <li>Accurately present event details</li>
                <li>Guide participants in completing registrations</li>
            </ul>

            <h4>4.2 Compliance</h4>
            <p>Vendors must abide by all applicable laws including:</p>
            <ul>
                <li>Indian Contract Act, 1872</li>
                <li>Information Technology Act, 2000</li>
                <li>Digital Personal Data Protection Act, 2023</li>
            </ul>

            <h3>5. Reporting & Communication</h3>
            <p>Vendors must submit:</p>
            <ul>
                <li>Weekly Activity Reports</li>
                <li>Monthly Summary Reports</li>
                <li>Final Report within 7 days of event closure</li>
            </ul>

            <h3>6. Conduct Standards</h3>
            <h4>6.1 Ethical Standards</h4>
            <p>Vendors shall maintain high standards of honesty and transparency.</p>

            <h4>6.2 Prohibited Conduct</h4>
            <p>Includes:</p>
            <ul>
                <li>Fraudulent registrations</li>
                <li>Unauthorized discounts</li>
                <li>Harassment or discrimination</li>
                <li>Conflict of interest</li>
            </ul>

            <h3>7. Commission & Payment Terms</h3>
            <h4>7.1 Eligibility</h4>
            <p>Commissions payable only for fully paid, verified registrations.</p>

            <h4>7.2 Payment Terms</h4>
            <p>Payments processed within 15-30 Business Days after reconciliation by bank transfer only.</p>

            <h3>8. Intellectual Property</h3>
            <p>All event-related intellectual property belongs exclusively to Sajre Edutech.</p>

            <h3>9. Confidentiality & Data Protection</h3>
            <p>Vendors shall not disclose or misuse confidential information and must handle participant data lawfully and securely.</p>

            <h3>10. Termination</h3>
            <p>Sajre Edutech may terminate immediately for fraud, misconduct or breach of obligations.</p>

            <h3>11. Governing Law & Jurisdiction</h3>
            <p>This Agreement is governed by the laws of India with arbitration in Bengaluru.</p>
        </div>

        {% if not request.user.accepted_terms %}
        <div class="agree-conditions">
            <input 
                class="form-check-input agreeCheckbox rounded-circle" 
                type="checkbox" 
                id="agreeCheckbox"
                required>
            <label class="form-check-label" for="agreeCheckbox">
                I agree to the Vendor Terms and Conditions
            </label>
        </div>

        <div class="form-check mt-4 d-flex justify-content-center">
            <button id="agreeBtn" 
                    class="btn reference_frd" 
                    style="width:150px;">
                Agree
            </button>
        </div>
        {% else %}
        <div class="alert alert-success text-center mt-4">
            You have already accepted the terms and conditions.
        </div>
        {% endif %}
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const agreeBtn = document.getElementById('agreeBtn');
    const agreeCheckbox = document.getElementById('agreeCheckbox');
    
    if (agreeBtn && agreeCheckbox) {
        agreeBtn.addEventListener('click', function() {
            if (!agreeCheckbox.checked) {
                alert('Please agree to the terms and conditions first');
                return;
            }
            
            fetch("{% url 'update_terms_status' %}", {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': '{{ csrf_token }}'
                },
                body: JSON.stringify({
                    accepted_terms: true
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    window.location.reload();
                } else {
                    alert('Error updating terms acceptance');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('An error occurred');
            });
        });
    }
});
</script>

{% endblock %}