{% extends 'sidebar.html' %}
{% block content %}

<link rel="stylesheet" href="/static/assets/participant/css/terms.css">
<!-- Include Razorpay checkout script -->
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<!-- Include your external JS file -->
<script src="/static/assets/participant/js/payment.js"></script>

<div class="container-fluid">
    <div class="main-content">
        <div class="header my-5">
            <h2 class="text-center">Guidelines</h2>
        </div>

        <div class="content">
            <h3>üé® Sajre National Art Summit</h3>
            <h4>Mandatory Guidelines for Uploading Drawing & Painting Artwork Images</h4>
            <p>All participants are required to strictly comply with the following rules while uploading their artwork. Any violation will lead to immediate rejection and possible disqualification from the Summit.</p>

            <h3>üìÅ File Size & Format</h3>
            <ul>
                <li>Artwork image must be greater than 100 KB and less than 5 MB.</li>
                <li>Accepted formats: JPEG, JPG, PNG only.</li>
                <li>Files outside these limits will be automatically rejected.</li>
            </ul>

            <h3>üñºÔ∏è Image Quality ‚Äì Compulsory Standards</h3>
            <ul>
                <li>The image must be clear, sharp, upright, and well-lit.</li>
                <li>Blurry, tilted, pixelated, shadowed, or low-quality photos will not be accepted.</li>
                <li>If photographing the artwork:
                    <ul>
                        <li>The artwork must be placed against a plain/neutral background only.</li>
                        <li>The photo must be taken straight, not at an angle.</li>
                        <li>Ensure no shadows, glares, or reflections are visible.</li>
                    </ul>
                </li>
                <li>Strictly prohibited: watermarks, text, borders, frames, filters, or digital alterations.</li>
            </ul>

            <h3>‚úÖ Originality ‚Äì Zero Tolerance Policy</h3>
            <ul>
                <li>Only original drawings and paintings created solely by the participant are allowed.</li>
                <li>Copied, traced, AI-generated, or plagiarized artwork will result in immediate disqualification and permanent removal from the competition.</li>
                <li>By submitting, participants legally declare that the artwork is their own creation and free from third-party rights.</li>
            </ul>

            <h3>üìå Submission Rules ‚Äì Mandatory Compliance</h3>
            <ul>
                <li>File name must strictly follow this format:<br>
                    <strong>RegistrationNumber_ArtworkTitle.jpg</strong><br>
                    (Example: REG1025_TheGoldenSky.jpg)</li>
                <li>Files without proper naming will be rejected without review.</li>
                <li>Only the number of entries allowed as per Summit rules may be uploaded.</li>
            </ul>

            <h3>üö´ Grounds for Immediate Rejection</h3>
            <p>An entry will be rejected if:</p>
            <ul>
                <li>File size or format requirements are not met.</li>
                <li>The image is unclear, altered, or poorly photographed.</li>
                <li>File naming rule is not followed.</li>
                <li>The artwork contains text, logos, or any watermark.</li>
                <li>The artwork is not original or shows evidence of plagiarism/AI generation.</li>
            </ul>

            <div class="alert alert-warning mt-4">
                <strong>‚ö†Ô∏è Important Notice:</strong> The organizers of the Sajre National Art Summit reserve the absolute right to reject or disqualify any entry at any stage that fails to meet these requirements. Decisions taken by the organizers will be final and binding, with no appeals or resubmissions allowed.
            </div>
        </div>

         {% if not request.user.accepted_terms %}
        <div class="agree-conditions">
            <input class="form-check-input agreeCheckbox rounded-circle" 
                   type="checkbox" 
                   id="agreeCheckbox"
                   required>
            <label class="form-check-label" for="agreeCheckbox">
                I agree with NAS Rules
            </label>
        </div>
        {% endif %}

         <div class="form-check mt-4 d-flex justify-content-center">
        <button id="agreeBtn"
        class="btn reference_frd"
        style="width:150px;"
        data-csrf-token="{{ csrf_token }}"
        data-terms-url="{% url 'terms' %}"
        data-terms-accepted="{{ request.user.accepted_terms|yesno:'true,false' }}">
    {% if request.user.accepted_terms %}Proceed{% else %}Agree{% endif %}
</button>
        </div>
    </div>
</div>

<!-- Fees Modal -->
<div class="modal fade" id="feesModal" tabindex="-1" aria-labelledby="feesModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content" style="border: none; border-radius: 15px; overflow: hidden;">
            <div class="modal-header" style="background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%); border-bottom: none;">
                <h5 class="modal-title" id="feesModalLabel" style="color: #4a5568; font-weight: 600;">
                    <i class="fas fa-palette me-2" style="color: #667eea;"></i>
                    Payment Details
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" style="background: linear-gradient(to right, #fdfbfb 0%, #ebedee 100%);">
                <div class="payment-details">
                    <div class="detail-row">
                        <span class="detail-label">Base Fee:</span>
                        <span class="detail-value">‚Çπ{{ base_fee }}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Transaction Fee (3%):</span>
                        <span class="detail-value">‚Çπ{{ transaction_fee }}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Platform Fee (10%):</span>
                        <span class="detail-value">‚Çπ{{ platform_fee }}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">GST (18%):</span>
                        <span class="detail-value">‚Çπ{{ gst }}</span>
                    </div>
                    <div class="divider" style="border-top: 1px dashed #cbd5e0; margin: 1rem 0;"></div>
                    <div class="detail-row total">
                        <span class="detail-label">Total Payable:</span>
                        <span class="detail-value" style="color: #4c51bf; font-weight: 700;">‚Çπ{{ total }}</span>
                    </div>
                </div>
                
                <div class="artistic-elements mt-4">
                    <div class="d-flex justify-content-center mb-3">
                        <div class="paint-swatch" style="background: #667eea; width: 20px; height: 20px; border-radius: 50%; margin: 0 5px;"></div>
                        <div class="paint-swatch" style="background: #764ba2; width: 20px; height: 20px; border-radius: 50%; margin: 0 5px;"></div>
                        <div class="paint-swatch" style="background: #ff7e5f; width: 20px; height: 20px; border-radius: 50%; margin: 0 5px;"></div>
                        <div class="paint-swatch" style="background: #feb47b; width: 20px; height: 20px; border-radius: 50%; margin: 0 5px;"></div>
                    </div>
                    <p class="text-center mb-0" style="color: #718096; font-size: 0.9rem;">
                        <i class="fas fa-bolt me-1" style="color: #f6ad55;"></i>
                        Only 30 seats available! Secure your spot now.
                    </p>
                </div>
            </div>
            <div class="modal-footer" style="background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%); border-top: none;">
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal" style="border-radius: 8px; padding: 8px 20px;">
                    Cancel
                </button>
                <button type="button" 
                        class="btn btn-primary" 
                        style="background: linear-gradient(to right, #667eea 0%, #764ba2 100%); border: none; border-radius: 8px; padding: 8px 25px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);"
                        data-total-amount="{{ total|floatformat:2 }}"
                        data-create-order-url="{% url 'create_razorpay_order' %}"
                        data-razorpay-key="{{ RAZORPAY_KEY_ID|default:'' }}"
                        data-user-name="{{ request.user.full_name|default:'' }}"
                        data-user-email="{{ request.user.email|default:'' }}"
                        data-user-phone="{{ request.user.phone_number|default:'' }}"
                        data-success-url="{% url 'payment_success' %}"
                        data-csrf-token="{{ csrf_token }}">
                    Pay Now
                </button>
            </div>
        </div>
    </div>
</div>

{% endblock %}